== Тест-кейсы ==

<table border="1"><tbody>
<tr><th> Категория </th><th>№</th><th> Предусловия </th><th> Ожидаемое поведение </th></tr>
<tr><td rowspan="3" valign="top"> *Модуль ядра и файл устройства* </td><td>1</td>
	<td> Модуль не был загружен. Выполняется `insmod`. </td>
		<td><ul><li> Модуль успешно загружается </li>
		<li> Создаётся файл устройства `/dev/hcontrol` </li>
		</ul></td>
		</tr>
<tr><td>2</td>
	<td> Модуль загружен. Файл устройства не используется. Выполняется `rmmod`. </td>
		<td><ul><li> Модуль успешно выгружается </li>
		<li> Удаляется файл устройства `/dev/hcontrol` </li>
		</ul></td>
		</tr>
<tr><td>3</td>
	<td> Модуль загружен. Файл устройства используется. Выполняется `rmmod`. </td>
		<td><ul><li> Модуль отказывается выгружается </li>
		<li> Файл устройства остаётся на месте </li>
		</ul></td>
		</tr>
<tr><td rowspan="2" valign="top"> *Собственно скрытие* </td><td>4</td>
	<td> Файл был скрыт </td>
		<td><ul><li> Не виден в директории </li>
		<li> Нельзя переименовать </li>
		<li> Нельзя удалить </li>
		<li> Нельзя открыть </li>
		<li> Нельзя прочитать </li>
		<li> Нельзя записать </li>
		</ul></td>
		</tr>
<tr><td>5</td>
	<td> Директория была скрыта </td>
		<td><ul><li> Все её файлы скрыты </li>
		<li> Нельзя переименовать </li>
		<li> Нельзя получить список содержимого </li>
		<li> Нельзя удалить </li>
		</ul></td>
		</tr>
<tr><td rowspan="6" valign="top"> *GUI: выбор файлов* </td><td>6</td>
	<td> Файл выбран мышкой в дереве файловой системы </td>
		<td> Путь к файлу устанавливается в поле пути </td>
		</tr>
<tr><td>7</td>
	<td> Правильный путь к файлу введён в поле пути </td>
		<td><ul><li> Дерево файловой системы перемещается к файлу </li>
		<li> Файл выбирается в дереве файловой системы </li>
		</ul></td>
		</tr>
<tr><td>8</td>
	<td> Неправильный путь к файлу введён в поле пути </td>
		<td> Выбранный файл не меняется </td>
		</tr>
<tr><td>9</td>
	<td> Файл выбран с помощью диалога </td>
		<td><ul><li> Путь к файлу устанавливается в поле пути </li>
		<li> Дерево файловой системы перемещается к файлу </li>
		<li> Файл выбирается в дереве файловой системы </li>
		</ul></td>
		</tr>
<tr><td>10</td>
	<td> Выбор файла в диалоге отменён </td>
		<td> Выбранный файл не меняется </td>
		</tr>
<tr><td>11</td>
	<td> Выбран файл/директория в дереве скрытых файлов </td>
		<td><ul><li> Выбирается ближайшая нескрытая директория-родитель выбранного файла </li>
		<li> Путь к файлу устанавливается в поле пути </li>
		<li> Дерево файловой системы перемещается к файлу </li>
		<li> Файл выбирается в дереве файловой системы </li>
		</ul></td>
		</tr>
<tr><td rowspan="5" valign="top"> *GUI: скрытие* </td><td>12</td>
	<td> Выбран файл. Нажата кнопка Hide.</td>
		<td><ul><li> Файл скрывается </li>
		<li> Дерево файловой системы обновляется </li>
		<li> Дерево скрытых файлов пополняется:
		<ul><li> Создаётся путь до родительской директории </li>
		<li> Директории пути являются не скрытыми </li>
		<li> У родительской директории появяется соответствующий файл </li>
		</ul></li>
		</ul></td>
		</tr>
<tr><td>13</td>
	<td><ul><li> Выбран файл-симлинк </li>
	<li> Нажата кнопка Hide </li>
	<li> Чекбокс «Hide symlink target» выключен </li>
	</ul></td>
		<td> Скрывается только файл-симлинк. </td>
		</tr>
<tr><td>14</td>
	<td><ul><li> Выбран файл-симлинк </li>
	<li> Нажата кнопка Hide </li>
	<li> Чекбокс «Hide symlink target» включен </li>
	</ul></td>
		<td> Скрывается файл-симлинк и его целевой файл. </td>
		</tr>
<tr><td>15</td>
	<td><ul><li> Выбрана директория </li>
	<li> Нажата кнопка Hide </li>
	<li> Чекбокс «Recursive» выключен </li>
	</ul></td>
		<td> Скрываются только файлы, принадлежащие директории. </td>
		</tr>
<tr><td>16</td>
	<td><ul><li> Выбрана директория </li>
	<li> Нажата кнопка Hide </li>
	<li> Чекбокс «Recursive» включен </li>
	</ul></td>
		<td><ul><li> Скрывается всё содержимое директории и она сама.</li>
		<li> В дереве скрытых файлов директория помечается как скрытая. </li>
		</ul></td>
		</tr>
<tr><td rowspan="6" valign="top"> *GUI: показ* </td><td>17</td>
	<td><ul><li> Выбран файл </li>
	<li> Его родительская директория не скрыта </li>
	<li> Нажата кнопка Unhide </li>
	</ul></td>
		<td><ul><li> Файл показывается </li>
		<li> Дерево файловой системы обновляется </li>
		<li> Дерево скрытых файлов обновляется:
		<ul><li> Файл удаляется из списка скрытых </li>
		<li> Если после этого директория не имеет скрытого содержимого, то она убирается из дерева </li>
		</ul></li>
		</ul></td>
		</tr>
<tr><td>18</td>
	<td><ul><li> Выбрана скрытая директория </li>
	<li> Её родительская директория не скрыта </li>
	<li> Чекбокс «Recursive» выключен </li>
	<li> Нажата кнопка Unhide </li></ul></td>
		<td><ul><li> Директория (и только она) показывается </li>
		<li> Дерево файловой системы обновляется </li>
		<li> В дереве скрытых файлов директория помечается как видимая </li>
		<li> Если после этого её родительская директория не имеет скрытого содержимого, то она убирается из дерева </li>
		</ul></td>
		</tr>
<tr><td>19</td>
	<td><ul><li> Выбрана скрытая директория </li>
	<li> Её родительская директория не скрыта </li>
	<li> Чекбокс «Recursive» включен </li>
	<li> Нажата кнопка Unhide </li></ul></td>
		<td><ul><li> Директория и всё её содержимое показывается </li>
		<li> Дерево файловой системы обновляется </li>
		<li> В дереве скрытых файлов директория помечается как видимая </li>
		</ul></td>
		</tr>
<tr><td>20</td>
	<td> Нажата кнопка Unhide all</td>
		<td><ul><li> Все скрытые файлы показываются </li>
		<li> Дерево файловой системы обновляется </li>
		<li> Дерево скрытых файлов очищается </li>
		</ul></td>
		</tr>
<tr><td>21</td>
	<td><ul><li> Выбрана видимая директория </li>
	<li> Чекбокс «Recursive» выключен </li>
	<li> Нажата кнопка Unhide </li></ul></td>
		<td> Ничего не происходит </td>
		</tr>
<tr><td>22</td>
	<td><ul><li> Выбрана видимая директория </li>
	<li> Чекбокс «Recursive» включен </li>
	<li> Нажата кнопка Unhide </li></ul></td>
		<td><ul><li> Всё скрытое содержимое директории показывается </li>
		<li> Дерево файловой системы обновляется </li>
		<li> В дереве скрытых файлов директория помечается как видимая </li>
		</ul></td>
		</tr>
<tr><td rowspan="6" valign="top"> *GUI: общие ошибки* </td><td>23</td>
	<td><ul><li> Файл устройства не на своём месте </li>
	<li> Сделана попытка скрытия/показа </li>
	</ul></td>
		<td> Сообщение с запросом на смену файла устройства </td>
		</tr>
<tr><td>24</td>
	<td> Предусловия 23 + запрос отменён </td>
		<td> Ничего не происходит </td>
		</tr>
<tr><td>25</td>
	<td> Предусловия 23 + выбран файл устройства </td>
		<td> Повторная попытка скрытия/показа </td>
		</tr>
<tr><td>26</td>
	<td> Предусловия 23 + выбран левый файл </td>
		<td> Сообщение с запросом на смену файла устройства  </td>
		</tr>
<tr><td>27</td>
	<td><ul><li> Файл устройства открыт другим процессом </li>
	<li> Сделана попытка скрытия/показа </li>
	</ul></td>
		<td> Сообщение о невозможности выполнения операции </td>
		</tr>
<tr><td>28</td>
	<td><ul><li> Недостаточно прав на открытие файла устройства </li>
	<li> Сделана попытка скрытия/показа </li>
	</ul></td>
		<td> Сообщение о невозможности открытия файла устройства </td>
		</tr>
<tr><td rowspan="1" valign="top"> *GUI: ошибки при скрытии* </td><td>29</td>
	<td> Попытка скрыть точку монтирования или её прямого потомка </td>
		<td> Сообщение о невозможности выполнения операции </td>
		</tr>
<tr><td rowspan="3" valign="top"> *GUI: ошибки при показе* </td><td>30</td>
	<td><ul><li> Выбирается скрытый файл/директория </li>
	<li> Родительская директория скрыта </li>
	<li> Выполняется попытка показа </li>
	</ul></td>
		<td> Сообщение о невозможности выполнения операции, и с запросом на показ родительской директории </td>
		</tr>
<tr><td>31</td>
	<td> Предусловия 30 + запрос отменён </td>
		<td> Ничего не происходит </td>
		</tr>
<tr><td>32</td>
	<td> Предусловия 30 + запрос подтверджён </td>
		<td><ul><li> Показываются все директории, мешающие показать выбранный файл </li>
		<li> Показывается выбранный файл </li>
		</ul></td>
		</tr>
<tr><td rowspan="1" valign="top"> *GUI: общее* </td><td>33</td>
	<td> Завершается работа приложения </td>
		<td> Все скрытые файлы показываются </td>
		</tr>
</tbody></table>